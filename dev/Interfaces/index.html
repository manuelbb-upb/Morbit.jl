<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Interfaces · Morbit.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://manuelbb-upb.github.io/Morbit.jl/Interfaces/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Morbit.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../example_two_parabolas/">Two Parabolas</a></li><li><a class="tocitem" href="../example_zdt/">ZDT3</a></li></ul></li><li><span class="tocitem">Models</span><ul><li><a class="tocitem" href="../ExactModel/">ExactModels</a></li><li><a class="tocitem" href="../RbfModel/">RbfModels</a></li><li><a class="tocitem" href="../TaylorModel/">TaylorModels</a></li><li><a class="tocitem" href="../LagrangeModel/">LagrangeModels</a></li></ul></li><li><span class="tocitem">Random Notebooks</span><ul><li><a class="tocitem" href="../notebook_finite_differences/">Finite Differences</a></li><li><a class="tocitem" href="../notebook_polynomial_interpolation/">Lagrange Interpolation</a></li></ul></li><li><a class="tocitem" href="../custom_logging/">Pretty Printing</a></li><li><span class="tocitem">Internals</span><ul><li><a class="tocitem" href="../dev_man/">DocStrings</a></li><li class="is-active"><a class="tocitem" href>Interfaces</a><ul class="internal"><li><a class="tocitem" href="#Abstract-Super-Types"><span>Abstract Super Types</span></a></li></ul></li><li><a class="tocitem" href="../AbstractResultInterface/"><code>AbstractResult</code> Interface</a></li><li><a class="tocitem" href="../AbstractIterDataInterface/"><code>AbstractIteraData</code> Interface</a></li><li><a class="tocitem" href="../AbstractDBInterface/"><code>AbstractDB</code> Interface</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Internals</a></li><li class="is-active"><a href>Interfaces</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Interfaces</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/manuelbb-upb/Morbit.jl/blob/master/src/Interfaces.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Interfaces"><a class="docs-heading-anchor" href="#Interfaces">Interfaces</a><a id="Interfaces-1"></a><a class="docs-heading-anchor-permalink" href="#Interfaces" title="Permalink"></a></h1><p>This file defines abstract super types and includes further method definitions for these types so we can write our algorithm without the actual implementations being available. This also avoids some import order complications.</p><h2 id="Abstract-Super-Types"><a class="docs-heading-anchor" href="#Abstract-Super-Types">Abstract Super Types</a><a id="Abstract-Super-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Abstract-Super-Types" title="Permalink"></a></h2><h3 id="Surrogate-Models"><a class="docs-heading-anchor" href="#Surrogate-Models">Surrogate Models</a><a id="Surrogate-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Surrogate-Models" title="Permalink"></a></h3><p>Each surrogate model type is configured via a data structure that implements <code>SurrogateConfig</code>. Such a configuration struct should be exported by the main module.</p><pre><code class="language-julia hljs">&quot;Abstract super type for a configuration type defining some surrogate model.&quot;
abstract type SurrogateConfig end

&quot;Abstract super type for meta data that is used to build a model.&quot;
abstract type SurrogateMeta end

&quot;Abstract super type for the actual surrogate models.&quot;
abstract type SurrogateModel end

&quot;Abstract super type wrapping around an objective, its model and the surrogate meta.&quot;
abstract type AbstractSurrogateWrapper end

&quot;Wrapper around a list of `AbstractSurrogateWrapper`s.&quot;
abstract type AbstractSurrogateContainer end</code></pre><p>Define a shorthand for the type of what we save in some <code>AbstractIterSaveable</code>.</p><pre><code class="language-julia hljs">const ContainerSaveable = Union{Nothing,Tuple{Vararg{&lt;:Union{Nothing,SurrogateMeta}}}}</code></pre><h3 id="MOPs"><a class="docs-heading-anchor" href="#MOPs">MOPs</a><a id="MOPs-1"></a><a class="docs-heading-anchor-permalink" href="#MOPs" title="Permalink"></a></h3><p>Internally we use implementations of the <code>AbstractObjective</code> for managing the MOP objectives and evaluation.</p><pre><code class="language-julia hljs">&quot;Abstract super type for any kind of (vector) objective.&quot;
abstract type AbstractObjective &lt;: MOI.AbstractVectorFunction end</code></pre><p>Our actual problem is repersented by an <code>AbstractMOP</code>.</p><pre><code class="language-julia hljs">&quot;&quot;&quot;
    AbstractMOP{T}

Abstract super type for multi-objective optimization problems.
`T` is `true` if the problem is modifyable and `false elsewise.

The user should define a `MixedMOP&lt;:AbstractMOP{true}`, see [`MixedMOP`](@ref).
&quot;&quot;&quot;
abstract type AbstractMOP{T} &lt;: MOI.ModelLike end</code></pre><h3 id="Internal-Data-Managment"><a class="docs-heading-anchor" href="#Internal-Data-Managment">Internal Data Managment</a><a id="Internal-Data-Managment-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-Data-Managment" title="Permalink"></a></h3><p>For internal data management we make some effort to keep everything structured. To save the intermediate results:</p><pre><code class="language-julia hljs">&quot;Abstract super type for stuff stored in the database.&quot;
abstract type AbstractResult{XT &lt;: VecF, YT &lt;: VecF} end</code></pre><p><code>AbstractIterData</code> is passed to functions and provides access to the current site and value vectors and the trust region radius.</p><pre><code class="language-julia hljs">&quot;Abstract super type for iteration data. Implemented by `IterData`.
Has type parameters for the vector type of itaration site, value vector and trust region radius.&quot;
abstract type AbstractIterData{XT &lt;: VecF, YT &lt;: VecF, DT &lt;: NumOrVecF} end
&quot;Abstract super type for some saveable representation of `AbstractIterData`.&quot;
abstract type AbstractIterSaveable{XT &lt;: VecF, YT &lt;: VecF, DT &lt;: NumOrVecF, C &lt;: ContainerSaveable } end</code></pre><p>A shorthand for everything that is either nothing or an <code>AbstractIterSaveable</code>:</p><pre><code class="language-julia hljs">const NothingOrSaveable = Union{Nothing, AbstractIterSaveable}</code></pre><p>Everything is kept in a database:</p><pre><code class="language-julia hljs">&quot;Abstract database super type. Implemented by `ArrayDB` and `MockDB`.&quot;
abstract type AbstractDB{R&lt;:AbstractResult, S&lt;:NothingOrSaveable} end</code></pre><h3 id="Algorithm-configuration."><a class="docs-heading-anchor" href="#Algorithm-configuration.">Algorithm configuration.</a><a id="Algorithm-configuration.-1"></a><a class="docs-heading-anchor-permalink" href="#Algorithm-configuration." title="Permalink"></a></h3><p>We have our own type to define the solution of the trust region sub-problems:</p><pre><code class="language-julia hljs">&quot;Abstract super type for descent step configuration.&quot;
abstract type AbstractDescentConfig end</code></pre><p>This might be returned by the general algorithm configuration implementing <code>AbstractConfig</code>:</p><pre><code class="language-julia hljs">&quot;Abstract super type for user configurable algorithm configuration.&quot;
abstract type AbstractConfig end</code></pre><h3 id="Differentiation"><a class="docs-heading-anchor" href="#Differentiation">Differentiation</a><a id="Differentiation-1"></a><a class="docs-heading-anchor-permalink" href="#Differentiation" title="Permalink"></a></h3><pre><code class="language-julia hljs">&quot;Super type for making (automatic) differentiation comfortable.&quot;
abstract type DiffFn end</code></pre><p>Method definitions for <code>DiffFn</code>s:</p><pre><code class="language-julia hljs">get_gradient( :: DiffFn, :: Vec, :: Int ) :: Vec = nothing
get_jacobian( :: DiffFn, :: Vec ) :: Mat = nothing
get_hessian( :: DiffFn, :: Vec, :: Int ) :: Mat = nothing</code></pre><h3 id="Enums"><a class="docs-heading-anchor" href="#Enums">Enums</a><a id="Enums-1"></a><a class="docs-heading-anchor-permalink" href="#Enums" title="Permalink"></a></h3><p>These codes should be availabe everywhere and that is why we define them here:</p><pre><code class="language-julia hljs">@enum ITER_TYPE begin
    ACCEPTABLE = 1;     # accept trial point, shrink radius
    SUCCESSFULL = 2;    # accept trial point, grow radius
    MODELIMPROVING = 3; # reject trial point, keep radius
    INACCEPTABLE = 4;   # reject trial point, shrink radius (much)
end

@enum STOP_CODE begin
    CONTINUE = 1
    MAX_ITER = 2
    BUDGET_EXHAUSTED = 3
    CRITICAL = 4
    TOLERANCE = 5
end</code></pre><h3 id="Interface-Definitions"><a class="docs-heading-anchor" href="#Interface-Definitions">Interface Definitions</a><a id="Interface-Definitions-1"></a><a class="docs-heading-anchor-permalink" href="#Interface-Definitions" title="Permalink"></a></h3><p>Most of the interfaces are defined in subfiles and we include them here:</p><pre><code class="language-julia hljs">include(&quot;SurrogateModelInterface.jl&quot;);
include(&quot;AbstractSurrogateContainerInterface.jl&quot;)
include(&quot;AbstractObjectiveInterface.jl&quot;);
include(&quot;AbstractMOPInterface.jl&quot;);
include(&quot;AbstractIterDataInterface.jl&quot;)
include(&quot;AbstractResultInterface.jl&quot;)
include(&quot;AbstractDBInterface.jl&quot;)
include(&quot;AbstractConfigInterface.jl&quot;)</code></pre><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../dev_man/">« DocStrings</a><a class="docs-footer-nextpage" href="../AbstractResultInterface/"><code>AbstractResult</code> Interface »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.5 on <span class="colophon-date" title="Friday 3 September 2021 14:55">Friday 3 September 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
